<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
    <title>{% block title %}{% endblock %} - Word Cloud Online</title>
    {% block style %}{% endblock %}
  </head>
  <body>
    {% for message in get_flashed_messages(with_categories=True) %}
    <div class="alert alert-{{message[0]}} d-flex justify-content-between alert-dismissible show" style="height: 60px;" role="alert">
        <p>{{message[1]}}</p>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
    {% endfor %}
    <nav style="--bs-breadcrumb-divider: ''; min-height: 75px;"class="navbar nav_container">
        <div class="container-fluid">
            <a href="/" class="logo extrabold">Word Cloud Generator Online</a>
            <ul class="breadcrumb nav_options">
                <li class="breadcrumb-item nav_item"><a href="tasks" class="nav_link">Generate A Cloud</a></li>
                <li class="breadcrumb-item nav_item"><a href="dashboard" class="nav_link">Generate A Cloud (Experimental)</a></li>
            </ul>
        </div>
    </nav>
    <!-- Optional JavaScript; choose one of the two! -->
    {% block content %}{% endblock %}
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@2.6.14/dist/vue.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="text/javascript">
    var app = new Vue({
        data(){
          return {
            
          }
        },
        methods: {
            submit() {
                var formData = new FormData();
                var text = document.getElementById("textFileInput").files[0]; //Gets text file
                var mask = document.getElementById("maskFileInput").files[0]; //Gets img file
                var color = document.getElementById("colorInput").value; //Gets color (in hex)
                formData.append("text", text);
                formData.append("mask", mask);
                formData.append("color", str(color));
                axios.post("/cloud",formData,
                        {headers:{'Content-Type': 'multipart/form-data'}}).then(function (response) {
                        console.log(response.data);
                        var img = response.data.filename;
                        console.log(img);
                        }
                );
            }
        }
    })
    </script>
    {% block scripts %}{% endblock %}
  </body>
</html>
